<ion-view title="Añadir disponibilidad">

    <form name="form" novalidate>
        <ion-header-bar class="bar-stable">
            <button class="button button-clear btn-left" ng-click="closeNewDisponibilidad()"> Cancelar </button>
            <h1 class="title title-header">Añadir disponibilidad</h1>
            <button class="button button-clear btn-left" ng-disabled="form.$invalid" ng-click="onGuardar()"> Guardar</button>
        </ion-header-bar>

        <ion-content>

            <ion-list class="availability-form ty-list">

                <label class="item item-input">
                    <input type="text" placeholder="Titulo referencia" ng-model="disponibilidad.title" required>
                </label>

                <div class="item item-divider">Zona</div>

                <div class="ty-list-group">
                    <label class="item item-input item-select">
                        <div class="input-label">
                            Pais
                        </div>
                        <select ng-model="disponibilidad.pais" ng-options="pais for pais in paises" required>
                            <option value=""> </option>
                        </select>
                    </label>

                    <label class="item item-input item-select">
                        <div class="input-label">
                            Ciudad
                        </div>
                        <select ng-model="disponibilidad.ciudad" ng-options="ciudad for ciudad in ciudades" required>
                            <option value=""> </option>
                        </select>
                    </label>

                    <label class="item item-input item-select">
                        <div class="input-label">
                            Localidad
                        </div>
                        <select ng-model="disponibilidad.localidad" ng-options="localidad for localidad in localidades" required>
                            <option value=""> </option>
                        </select>
                    </label>

                    <label class="item item-input item-select">
                        <div class="input-label">
                            Club/Cancha
                        </div>
                        <select ng-model="disponibilidad.clubCancha" ng-options="club.id as club.nombre for club in clubs.list track by club.id" required>
                            <option value=""> </option>
                        </select>
                    </label>
                </div>

                <div class="item item-divider">Fechas, dias y horarios</div>

                <div class="ty-list-group">
                    <label class="item new-input-date">
                        Fecha
                        <input type="date" datetimepicker ng-model="disponibilidad.fecha" required>
                        <span class="item-note">{{disponibilidad.fecha| date:'yyyy/MM/dd' }}</span>
                    </label>

                    <label class="item new-input-date">
                        Hora de Comienzo
                        <input type="time" datetimepicker min-interval="30" ng-model="disponibilidad.fechai" required>
                        <span class="item-note">{{disponibilidad.fechai| date:'HH:mm' }}</span>
                    </label>
                    <label class="item new-input-date">
                        Hora de Fin
                        <input type="time" datetimepicker min-interval="30" ng-min="disponibilidad.fechai" ng-model="disponibilidad.fechaf" required>
                        <span class="item-note">{{disponibilidad.fechaf| date:'HH:mm' }}</span>
                    </label>
                    <a class="item" ui-sref="tabs.disponibilidad.repetir">
                        Repetir
                        <span class="item-note">
                            {{disponibilidad.repetir === ''?'repetir':disponibilidad.repetir}} <i class="icon ion-chevron-right icon-accessory"></i>
                        </span>
                    </a>
                </div>

                <div class="item item-divider"></div>

                <ion-item class="item item-toggle" >
                    CONFIRMACIÓN AUTOMATICA
                    <label class="toggle toggle-balanced">
                        <input type="checkbox" ng-model="disponibilidad.autoConfirm">
                        <div class="track">
                            <div class="handle"></div>
                        </div>
                    </label>
                </ion-item>
                <div class="item item-divider"></div>
            </ion-list>
        </ion-content>
    </form>

</ion-view>