<ion-view class=" new-match">
    <form name="form" novalidate>
        <ion-header-bar class="bar-stable">
            <button class="button button-clear btn-cgreen" ng-click="onCancelar()"> Cancelar </button>
            <h1 class="title">Nuevo partido</h1>
        </ion-header-bar>

        <ion-content>
            <ion-list >
                <ion-item class="item-divider text-center" ng-show="partido.grupo !== null">Grupo: {{title}}</ion-item>

                <div class="ty-list-group">
                    <label class="item item-input item-select">
                        <div class="input-label">Tipo</div>
                        <select ng-model="partido.tipo" ng-change="changeTipo(partido.tipo)">
                            <option value="Singles">Singles</option>
                            <option value="Dobles">Dobles</option>
                        </select>
                    </label>

                    <label class="item item-input item-select">
                        <div class="input-label">
                            Lugar
                        </div>
                        <select ng-model="partido.club" ng-options="club.nombre for club in clubs track by club.id" required>
                            <option value=""></option>
                        </select>
                    </label>
                </div>

                <ion-item class="item-divider"></ion-item>

                <div class="ty-list-group">
                    <label class="item new-input-date">
                        Fecha
                        <input type="date" ng-model="partido.fecha" required>
                        <span class="item-note">{{partido.fecha| date:'yyyy/MM/dd' }}</span>
                    </label>

                    <label class="item new-input-date">
                        Empieza
                        <input type="time" ng-model="partido.horaI" required>
                        <span class="item-note">{{partido.horaI| date:'h:mm a'| lowercase }}</span>
                    </label>

                    <label class="item new-input-date">
                        Termina
                        <input type="time" ng-model="partido.horaF" required>
                        <span class="item-note">{{partido.horaF| date:'h:mm a'| lowercase }}</span>
                    </label>
                </div>

                <ion-item class="item-divider"></ion-item>

                <div class="ty-list-group">

                    <div class="item gamer">
                        Jugador 1
                        <span class="item-note">
                            {{partido.jugador1?partido.jugador1.name:'Invitar*>'}}
                            <input type="hidden" ng-model="partido.jugador1"/>
                        </span>
                    </div>

                    <div class="item gamer" ng-click="search('jugador2')">
                        Jugador 2
                        <span class="item-note">
                            {{partido.jugador2?partido.jugador2.name:'Invitar*>'}}
                            <input type="hidden" ng-model="partido.jugador2" />
                        </span>
                    </div>

                    <div class="item gamer" ng-click="search('jugador3')" ng-show="partido.tipo == 'Dobles'">
                        Jugador 3
                        <span class="item-note">
                            {{partido.jugador3?partido.jugador3.name:'Invitar*>'}}
                            <input type="hidden" ng-model="partido.jugador3"/>
                        </span>
                    </div>

                    <div class="item gamer" ng-click="search('jugador4')" ng-show="partido.tipo == 'Dobles'">
                        Jugador 4
                        <span class="item-note">
                            {{partido.jugador4?partido.jugador4.name:'Invitar*>'}}
                            <input type="hidden" ng-model="partido.jugador4"/>
                        </span>
                    </div>
                </div>

            </ion-list>

            <div class="ty-list-group">

                <p class="notice">* De no invitar a un jugador específico el partido será publicado en forma abierta para todos los jugadores</p>


                <label class="custom-radio">
                    <input type="radio" ng-model="partido.reservada" ng-value="false"> Reservar cancha*
                    <span class="ic-radio"></span>
                </label>
                <label class="custom-radio">
                    <input type="radio" ng-model="partido.reservada" ng-value="true" checked> Cancha ya reservada
                    <span class="ic-radio"></span>
                </label>

            </div>
            <div class="btn-submit">
                <button class="button button-full" ng-disabled="form.$invalid"  ng-click="onCreate(partido)">Crear partido</button>
            </div>

        </ion-content>
    </form>
</ion-view>